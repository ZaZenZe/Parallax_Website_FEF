
.parallax-bg {
  position: fixed;
  top: -10%;
  left: -5%;
  width: 110%;
  height: 120vh;
  z-index: 0;
  overflow: hidden;
  background: radial-gradient(circle at 25% 20%, rgba(32, 74, 145, 0.4), transparent 55%),
    radial-gradient(circle at 80% 80%, rgba(96, 40, 128, 0.35), transparent 50%),
    #070a14;
  pointer-events: none;
}

.parallax-bg__layer {
  position: absolute;
  top: -10%;
  left: -5%;
  width: 110%;
  height: 120%;
  will-change: transform, opacity;
  transform-origin: center center;

  img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
    animation: subtleFloat 20s ease-in-out infinite;
  }

  &:hover img {
    animation-play-state: paused;
    transform: scale(1.02);
    transition: transform 0.8s ease-out;
  }

  // Layer 1 - Hero section background (bg_miku.jpg)
  &--1 {
    opacity: 1;
    z-index: 3;

    img {
      filter: brightness(0.82) saturate(1.18) contrast(1.05);
    }
  }

  // Layer 2 - About section background (Hero_BG(3).jpeg)
  &--2 {
    opacity: 0;
    z-index: 2;

    img {
      filter: brightness(0.75) saturate(1.15) contrast(1.02);
    }
  }

  // Layer 3 - Contact section background (Hero_BG(4).jpeg)
  &--3 {
    opacity: 0;
    z-index: 1;

    img {
      filter: brightness(0.78) saturate(1.12) contrast(1.0);
    }
  }
}

// Add a dark overlay to ensure text readability
.parallax-bg::after {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(180deg, rgba(5, 8, 15, 0.55) 0%, rgba(5, 8, 15, 0.78) 60%, rgba(9, 12, 18, 0.82) 100%);
  pointer-events: none;
  z-index: 10;
}

// Animated floating bubbles for depth
.parallax-bg::before {
  content: '';
  position: absolute;
  width: 100%;
  height: 100%;
  background-image: 
    radial-gradient(circle at 20% 30%, rgba(46, 255, 211, 0.12) 0%, transparent 3%),
    radial-gradient(circle at 70% 60%, rgba(46, 188, 255, 0.1) 0%, transparent 4%),
    radial-gradient(circle at 40% 80%, rgba(198, 86, 255, 0.08) 0%, transparent 3.5%),
    radial-gradient(circle at 80% 20%, rgba(46, 255, 211, 0.09) 0%, transparent 3%),
    radial-gradient(circle at 15% 70%, rgba(46, 188, 255, 0.11) 0%, transparent 4%),
    radial-gradient(circle at 90% 40%, rgba(198, 86, 255, 0.1) 0%, transparent 3%);
  background-size: 100% 100%;
  animation: floatingBubbles 25s ease-in-out infinite;
  z-index: 5;
  mix-blend-mode: screen;
}

@keyframes subtleFloat {
  0%, 100% {
    transform: translateY(0) scale(1);
  }
  25% {
    transform: translateY(-15px) scale(1.01);
  }
  50% {
    transform: translateY(-8px) scale(1.005);
  }
  75% {
    transform: translateY(-20px) scale(1.008);
  }
}

@keyframes floatingBubbles {
  0%, 100% {
    background-position: 
      20% 30%, 
      70% 60%, 
      40% 80%, 
      80% 20%, 
      15% 70%, 
      90% 40%;
    opacity: 1;
  }
  25% {
    background-position: 
      25% 35%, 
      65% 55%, 
      45% 75%, 
      85% 25%, 
      10% 65%, 
      95% 45%;
    opacity: 0.8;
  }
  50% {
    background-position: 
      18% 40%, 
      72% 50%, 
      38% 70%, 
      78% 30%, 
      20% 60%, 
      88% 50%;
    opacity: 1;
  }
  75% {
    background-position: 
      22% 28%, 
      68% 58%, 
      42% 78%, 
      82% 22%, 
      12% 72%, 
      92% 38%;
    opacity: 0.9;
  }
}
